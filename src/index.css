@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   CHATGPT-STYLE MONOCHROME THEME (LIGHT + DARK)
   All values are TRUE HSL tuples (Tailwind compatible)
   ========================================================= */

@layer base {
  /* =========================
     LIGHT THEME (DEFAULT)
     ========================= */
  :root {
    /* Backgrounds */
    --background: 0 0% 100%;          /* #FFFFFF */
    --card: 0 0% 100%;
    --popover: 0 0% 100%;

    /* Text */
    --foreground: 222 47% 11%;        /* #111827 */
    --muted-foreground: 215 16% 47%;  /* #6B7280 */

    /* Primary (pure black) */
    --primary: 222 47% 11%;            /* #111827 */
    --primary-foreground: 0 0% 100%;
    --primary-hover: 222 47% 6%;       /* darker black */

    /* Neutral surfaces */
    --secondary: 210 20% 96%;          /* #F3F4F6 */
    --muted: 210 20% 96%;
    --accent: 210 20% 96%;
    --accent-foreground: 222 47% 11%;

    /* Borders & inputs */
    --border: 214 32% 91%;             /* #E5E7EB */
    --input: 0 0% 100%;
    --input-border-focus: 222 47% 11%;
    --ring: 222 47% 11%;

    /* Chat bubbles */
    --chat-bubble-you: 210 20% 96%;    /* light gray */
    --chat-bubble-others: 0 0% 100%;
    --chat-text-you: 222 47% 11%;
    --chat-text-others: 222 47% 11%;

    /* Sidebar */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 222 47% 11%;
    --sidebar-border: 214 32% 91%;

    --radius: 0.75rem;
  }

  /* =========================
     DARK THEME (ChatGPT)
     ========================= */
  [data-theme="dark"] {
    /* Backgrounds */
    --background: 220 13% 7%;          /* #0B0F14 */
    --card: 220 13% 9%;                /* #0E1117 */
    --popover: 220 13% 11%;

    /* Text */
    --foreground: 0 0% 92%;            /* #ECECF1 */
    --muted-foreground: 220 9% 63%;    /* #9CA3AF */

    /* Primary */
    --primary: 0 0% 92%;
    --primary-foreground: 220 13% 7%;
    --primary-hover: 0 0% 100%;

    /* Neutral surfaces */
    --secondary: 220 13% 14%;           /* #1F2937 */
    --muted: 220 13% 14%;
    --accent: 220 13% 14%;
    --accent-foreground: 0 0% 92%;

    /* Borders & inputs */
    --border: 220 13% 18%;              /* subtle border */
    --input: 220 13% 9%;
    --input-border-focus: 0 0% 92%;
    --ring: 0 0% 92%;

    /* Chat bubbles */
    --chat-bubble-you: 220 13% 14%;
    --chat-bubble-others: 220 13% 9%;
    --chat-text-you: 0 0% 92%;
    --chat-text-others: 0 0% 92%;

    /* Sidebar */
    --sidebar-background: 220 13% 9%;
    --sidebar-foreground: 0 0% 92%;
    --sidebar-border: 220 13% 18%;
  }
}

/* =========================
   GLOBAL BASE STYLES
   ========================= */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: system-ui, -apple-system, Inter, Segoe UI, sans-serif;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    transition: background-color 0.25s ease, color 0.25s ease;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 500;
  }

  button, input, textarea {
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }
}

/* =========================
   SCROLLBAR (SUBTLE)
   ========================= */
/* Fix for mobile tabs - ensure TabsContent takes full height */
@layer utilities {
  /* Override hidden attribute for active tabs - must override HTML hidden attribute */
  [data-radix-tabs-content][data-state="active"][hidden] {
    display: flex !important;
    visibility: visible !important;
    height: auto !important;
  }
  
  [data-radix-tabs-content][data-state="active"] {
    display: flex !important;
    flex: 1 1 0% !important;
    min-height: 0 !important;
    margin-top: 0 !important;
    height: 100% !important;
    visibility: visible !important;
  }
  
  /* Hide inactive tabs properly */
  [data-radix-tabs-content][data-state="inactive"] {
    display: none !important;
  }
  
  /* Remove default margin from all tabs */
  [data-radix-tabs-content] {
    margin-top: 0 !important;
  }
  
  /* Ensure ChatWindow and its children take full height on mobile */
  @media (max-width: 1023px) {
    [data-radix-tabs-content][data-state="active"] {
      display: flex !important;
      height: 100% !important;
    }
    
    [data-radix-tabs-content][data-state="active"] > div {
      height: 100% !important;
      min-height: 0 !important;
    }
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.25);
    border-radius: 999px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.4);
  }
}
